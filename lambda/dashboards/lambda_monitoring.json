{
  "version": 1,
  "dashboard": {
    "title": "Lambda Monitoring Dashboard",
    "timeRange": {
      "from": "now-24h",
      "to": "now"
    },
    "panels": [
      {
        "id": "health-score",
        "type": "gauge",
        "title": "Overall Health Score",
        "gridPos": {
          "x": 0,
          "y": 0,
          "w": 6,
          "h": 6
        },
        "query": {
          "index": "metrics-*",
          "metrics": [{"field": "health_score", "aggregation": "avg"}]
        },
        "thresholds": [
          {"value": 0, "color": "red"},
          {"value": 60, "color": "yellow"},
          {"value": 80, "color": "green"}
        ]
      },
      {
        "id": "error-rate",
        "type": "timeseries",
        "title": "Error Rate",
        "gridPos": {
          "x": 6,
          "y": 0,
          "w": 18,
          "h": 6
        },
        "query": {
          "index": "metrics-*",
          "metrics": [{"field": "metrics.errors.error_count", "aggregation": "sum"}],
          "timeField": "timestamp"
        }
      },
      {
        "id": "memory-usage",
        "type": "timeseries",
        "title": "Memory Usage",
        "gridPos": {
          "x": 0,
          "y": 6,
          "w": 12,
          "h": 6
        },
        "query": {
          "index": "metrics-*",
          "metrics": [{"field": "metrics.memory.used_memory", "aggregation": "avg"}],
          "timeField": "timestamp"
        }
      },
      {
        "id": "duration",
        "type": "timeseries",
        "title": "Execution Duration",
        "gridPos": {
          "x": 12,
          "y": 6,
          "w": 12,
          "h": 6
        },
        "query": {
          "index": "metrics-*",
          "metrics": [{"field": "metrics.duration.duration", "aggregation": "avg"}],
          "timeField": "timestamp"
        }
      },
      {
        "id": "alerts",
        "type": "table",
        "title": "Recent Alerts",
        "gridPos": {
          "x": 0,
          "y": 12,
          "w": 24,
          "h": 6
        },
        "query": {
          "index": "metrics-*",
          "sort": [{"timestamp": "desc"}],
          "filter": [{"term": {"has_alert": true}}],
          "size": 10
        },
        "columns": [
          {"field": "timestamp", "name": "Time"},
          {"field": "alert.severity", "name": "Severity"},
          {"field": "alert.metric", "name": "Metric"},
          {"field": "alert.value", "name": "Value"}
        ]
      }
    ]
  }
}